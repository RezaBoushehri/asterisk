; --- existing entries you already have ---
[TRUNK_LOOKUP]
dsn=asterisk
readsql=SELECT sipID FROM trunks WHERE host='${ARG1}' AND status=1

[IVR_LOOKUP]
dsn=asterisk
readsql=SELECT id, entry_prompt, timeout, max_attempts FROM ivr_menus WHERE trunk_id=(SELECT id FROM trunks WHERE host='${ARG1}' AND status=1) AND status=1

[FALLBACK_LOOKUP]
dsn=asterisk
readsql=SELECT fallback_extension FROM extension_fallbacks WHERE sipID='${ARG1}'

; --- add this new function for ivr action lookups ---
[IVR_ACTION]
dsn=asterisk
; return e.g. "dial^101" or "playback^welcome"
readsql=SELECT CONCAT(action_type,'^',action_value) FROM ivr_prompts WHERE ivr_menu_id='${ARG1}' AND dtmf_key='${ARG2}' AND status=1

[SQL]
dsn=asterisk
readsql=${ARG1}
